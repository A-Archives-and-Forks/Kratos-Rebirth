<div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(function(){
            const qrcode = new QRCode("wechat-qr", {
                text: "<%- page.permalink %>",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
            function share(dest){
                const qqShareURL="http://connect.qq.com/widget/shareqq/index.html?";
                const weiboShareURL="http://service.weibo.com/share/share.php?";
                const qzoneShareURL="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
                const facebookShareURL="https://www.facebook.com/sharer/sharer.php?";
                const twitterShareURL="https://twitter.com/intent/tweet?";
                const host_url="<%- page.permalink %>";
                const title="【<%- page.title %>】";
                const excerpt="<% if (page.excerpt){ %><%- trim(strip_html(page.excerpt)) %><% } else { %><%- trim(strip_html(truncate(page.content, 45))) %><% } %>";
                let _URL;
                switch (dest) {
                    case "qq"       : _URL = qqShareURL+"url="+host_url+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                    case "weibo"    : _URL = weiboShareURL+"url="+host_url+"&title="+title+excerpt;                                 break;
                    case "qzone"    : _URL = qzoneShareURL+"url="+host_url+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                    case "facebook" : _URL = facebookShareURL+"u="+host_url;                                                        break;
                    case "twitter"  : _URL = twitterShareURL+"text="+title+excerpt+"&url="+host_url;                                break;
                }
                window.open(_URL);
            }
        });
    </script>
</div>