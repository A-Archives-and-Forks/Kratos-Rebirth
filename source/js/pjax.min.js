$((function(){const t="#kratos-blog-post .row";theTop=notMobile?$("#kratos-blog-post").offset().top-40:0;window.addEventListener("popstate",(n=>{n.state&&(console.log("popstate - triggered"),document.title=n.state.title||document.title,$("body,html").animate({scrollTop:theTop},600),void 0===n.state.content?o(n.state.url,!1):$(t).html(n.state.content),OriginTitile=document.title,window.dispatchEvent(e.complete))}));const e={before:new Event("pjax:before"),success:new Event("pjax:success"),complete:new Event("pjax:complete"),error:new Event("pjax:error")};function o(o,n){$.ajax({url:o,beforeSend:function(){window.dispatchEvent(e.before),"undefined"!=typeof load_comm&&null!==load_comm&&(load_comm=null),$("body,html").animate({scrollTop:theTop},600),history.replaceState({url:location.href,title:document.title,content:document},document.title,location.href),NProgress.start()},success:function(n,c,i){window.dispatchEvent(e.success),void 0===$(n).find(t).html()&&(i.abort(404),location.href=o)},complete:function(c,i){window.dispatchEvent(e.complete);const l=c.responseText;history.replaceState({url:location.href,title:document.title,content:$(document).find(t).html()},document.title,location.href);const r=$(l).filter("title").text(),s=$(l).find(t).html();n&&window.history.pushState({url:o,title:r,content:s},r,o),document.title=r,$(t).html(s),OriginTitile=document.title,NProgress.done();const a=o.match(/\#.+$/);a&&$("body,html").animate({scrollTop:$(a[0]).offset().top-40},600)},timeout:6e3,error:function(t,n,c){window.dispatchEvent(e.error),console.error(c),location.href=o}})}$(document).on("click","a[target!=_blank][rel!=gallery][class!=toc-link]",(function(){const t=$(this).attr("href");return void 0===t||(!!t.includes("javascript:")||(o(decodeURI(t),!0),!1))}))}));