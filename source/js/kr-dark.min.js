(()=>{const r=document.getElementById("darkmode-css"),d="user-color-scheme",m=(e,t)=>{try{localStorage.setItem(e,t)}catch(a){}},u=e=>{try{localStorage.removeItem(e)}catch(t){}},n=e=>{try{return localStorage.getItem(e)}catch(t){return null}},s=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",c={dark:!0,light:!0},l=e=>{let t=e||n(d);const a=s();switch(document.documentElement.setAttribute("data-theme",t||a),(!c[t]||t===a)&&(u(d),t=null),t){case"dark":r.setAttribute("media","all"),r.removeAttribute("disabled");break;case"light":r.setAttribute("disabled","disabled");break;default:r.setAttribute("media","(prefers-color-scheme: dark)"),r.removeAttribute("disabled");break}},i={dark:"light",light:"dark"},k=()=>{let e=n(d);return c[e]?e=i[e]:e=i[s()],m(d,e),e};l();const o=()=>{document.removeEventListener("DOMContentLoaded",o,!1),window.removeEventListener("load",o,!1),document.getElementById("darkmode-switch").addEventListener("click",()=>{l(k())})};document.readyState==="complete"?setTimeout(o):(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1))})();
